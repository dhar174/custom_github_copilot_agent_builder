"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const vitest_1 = require("vitest");
const stability_1 = require("./stability");
(0, vitest_1.describe)('stability', () => {
    (0, vitest_1.it)('sortFileList sorts files deterministically', () => {
        const files = [
            { path: 'b.txt', status: 'added' },
            { path: 'a.txt', status: 'added' },
        ];
        const sorted = (0, stability_1.sortFileList)(files);
        (0, vitest_1.expect)(sorted[0].path).toBe('a.txt');
        (0, vitest_1.expect)(sorted[1].path).toBe('b.txt');
    });
    (0, vitest_1.it)('normalizeLineEndings converts CRLF to LF', () => {
        const input = 'line1\r\nline2\r\nline3';
        (0, vitest_1.expect)((0, stability_1.normalizeLineEndings)(input)).toBe('line1\nline2\nline3');
    });
    (0, vitest_1.it)('stripTimestamps removes run ID', () => {
        const input = 'Generated by AgentOps\nRun ID: 123456789\nEnd';
        (0, vitest_1.expect)((0, stability_1.stripTimestamps)(input)).toBe('Generated by AgentOps\nRun ID: <stripped>\nEnd');
    });
});
